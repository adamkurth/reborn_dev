

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bornagain.external package &mdash; bornagain 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="bornagain 0.0.1 documentation" href="index.html"/>
        <link rel="up" title="bornagain package" href="bornagain.html"/>
        <link rel="next" title="bornagain.simulate package" href="bornagain.simulate.html"/>
        <link rel="prev" title="bornagain package" href="bornagain.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> bornagain
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bornagain.html">bornagain package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="bornagain.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">bornagain.external package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-bornagain.external.crystfel">bornagain.external.crystfel module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-bornagain.external.lcls">bornagain.external.lcls module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-bornagain.external">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.simulate.html">bornagain.simulate package</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.target.html">bornagain.target package</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.viewers.html">bornagain.viewers package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain.detector">bornagain.detector module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain.scatter">bornagain.scatter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain.source">bornagain.source module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain.units">bornagain.units module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain.utils">bornagain.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="bornagain.html#module-bornagain">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">bornagain</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="bornagain.html">bornagain package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="bornagain.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="">bornagain.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bornagain.simulate.html">bornagain.simulate package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bornagain.target.html">bornagain.target package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bornagain.viewers.html">bornagain.viewers package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain.detector">bornagain.detector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain.scatter">bornagain.scatter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain.source">bornagain.source module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain.units">bornagain.units module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain.utils">bornagain.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bornagain.html#module-bornagain">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coding.html">Coding guidlines for developers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">bornagain</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="bornagain.html">bornagain package</a> &raquo;</li>
      
    <li>bornagain.external package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/bornagain.external.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bornagain-external-package">
<h1>bornagain.external package<a class="headerlink" href="#bornagain-external-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-bornagain.external.crystfel">
<span id="bornagain-external-crystfel-module"></span><h2>bornagain.external.crystfel module<a class="headerlink" href="#module-bornagain.external.crystfel" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="bornagain.external.crystfel.geom_to_dict">
<code class="descclassname">bornagain.external.crystfel.</code><code class="descname">geom_to_dict</code><span class="sig-paren">(</span><em>geom_file</em>, <em>raw_strings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bornagain/external/crystfel.html#geom_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bornagain.external.crystfel.geom_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a crystfel &#8220;geom&#8221; file into a sensible Python dictionary.  For details see:
<a class="reference external" href="http://www.desy.de/~twhite/crystfel/manual-crystfel_geometry.html">http://www.desy.de/~twhite/crystfel/manual-crystfel_geometry.html</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>geom_file</strong> (<em>str</em>) &#8211; Path to the geometry file.</li>
<li><strong>raw_strings</strong> (<em>bool</em>) &#8211; By default, this function will convert values to floats, integers, or bools, as appropriate.
Set this option to &#8220;True&#8221; if you want to store the raw strings in the output dictionary.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>geom_dict</strong> &#8211;
Dictionary container filled with geom file information.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bornagain.external.crystfel.geom_dict_to_padgeometry">
<code class="descclassname">bornagain.external.crystfel.</code><code class="descname">geom_dict_to_padgeometry</code><span class="sig-paren">(</span><em>geomDict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bornagain/external/crystfel.html#geom_dict_to_padgeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bornagain.external.crystfel.geom_dict_to_padgeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a CrystFEL geometry dictionary to a list of PADGeometry() instances.</p>
</dd></dl>

<dl class="function">
<dt id="bornagain.external.crystfel.split_image">
<code class="descclassname">bornagain.external.crystfel.</code><code class="descname">split_image</code><span class="sig-paren">(</span><em>data</em>, <em>geom_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bornagain/external/crystfel.html#split_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bornagain.external.crystfel.split_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a 2D image into individual panels (useful for working with Cheetah output).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>numpy array</em>) &#8211; Image data</li>
<li><strong>geom_dict</strong> (<em>dict</em>) &#8211; Geometry dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>split_data</strong> &#8211;
List of individual PAD panel data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-bornagain.external.lcls">
<span id="bornagain-external-lcls-module"></span><h2>bornagain.external.lcls module<a class="headerlink" href="#module-bornagain.external.lcls" title="Permalink to this headline">¶</a></h2>
<p>Utilities to convert</p>
<dl class="function">
<dt id="bornagain.external.lcls.reshape_psana_cspad_array_to_cheetah_array">
<code class="descclassname">bornagain.external.lcls.</code><code class="descname">reshape_psana_cspad_array_to_cheetah_array</code><span class="sig-paren">(</span><em>psana_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bornagain/external/lcls.html#reshape_psana_cspad_array_to_cheetah_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bornagain.external.lcls.reshape_psana_cspad_array_to_cheetah_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform psana cspad numpy array of shape (32,185,388) into array to Cheetah array of shape (1480, 1552).
Unfortunately, the Cheetah format requires a re-write of the data in memory, and one result of this re-write is that
each detector panel is no longer stored contiguously in memory.  A second result is that newcomers will of course
be very confused when they first encounter this undocumented aspect of Cheetah.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>psana_array</strong> (<em>numpy array</em>) &#8211; A numpy array of shape (32,185,388) produced by the psana module</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>cheetah_array</strong> &#8211;
A numpy array of shape (1480, 1552); same data as the psana array but mangled as done within Cheetah</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bornagain.external.lcls.cheetah_cspad_array_to_pad_list">
<code class="descclassname">bornagain.external.lcls.</code><code class="descname">cheetah_cspad_array_to_pad_list</code><span class="sig-paren">(</span><em>psana_array</em>, <em>geom_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bornagain/external/lcls.html#cheetah_cspad_array_to_pad_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bornagain.external.lcls.cheetah_cspad_array_to_pad_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is helpful if you have a CrystFEL geom file that refers to Cheetah output, but you wish to work with
data in the native psana format.  First you should create a crystfel geometry dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>psana_array</strong> (<em>numpy array</em>) &#8211; A numpy array of shape (32,185,388) produced by the psana module.</li>
<li><strong>geom_dict</strong> (<em>dict</em>) &#8211; A CrystFEL geometry dictionary produced by external.crystfel.geom_to_dict() .</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pad_list</strong> &#8211;
A list containing data from each pixel array</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-bornagain.external">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-bornagain.external" title="Permalink to this headline">¶</a></h2>
<p>This module contains all sorts of tools for dealing with other software.
Examples are CrystFEL, Cheetah and psana.  We sometimes need to deal with the
configuration files from these software suites, methods for accessing/writing
data, etc.  This should be kept to a minimum...</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bornagain.simulate.html" class="btn btn-neutral float-right" title="bornagain.simulate package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bornagain.html" class="btn btn-neutral" title="bornagain package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Richard A Kirian.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview &mdash; bornagain 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="bornagain 0.0.1 documentation" href="index.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="bornagain’s documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="bornagain’s documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">bornagain 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overview</a><ul>
<li><a class="reference internal" href="#some-basics">Some basics</a></li>
<li><a class="reference internal" href="#detectors">Detectors</a></li>
<li><a class="reference internal" href="#simulation">Simulation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">bornagain&#8217;s documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/overview.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>Here you will find an overview of basic concepts, which hopefully help you understand how the modules in bornagain are meant to fit together.</p>
<div class="section" id="some-basics">
<h2>Some basics<a class="headerlink" href="#some-basics" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>All units in bornagain are SI.  Angles are radians.  Exceptions are very rare.</li>
<li>All vectors should have a numpy shape of Nx3, in order to keep vector components close in memory.  We are quite strict about this.</li>
<li>Detector panels are often segmented in real experiments.  The classes in the detector module are intended to help ease the burden of working with such detectors.</li>
<li>Learn how to use iPython to explore the functionality of bornagain classes.</li>
<li>If documentation is missing, tell someone (e.g. rkirian at asu dot edu).</li>
</ul>
</div>
<div class="section" id="detectors">
<h2>Detectors<a class="headerlink" href="#detectors" title="Permalink to this headline">¶</a></h2>
<p>There are a few detectors that we might want to work with.  So far we only deal with polar and rectangular type detectors.</p>
<p>The most commond detector is known as the &#8220;pixel-array detector&#8221;, or &#8220;PAD&#8221;, in the bornagain package.  This type of detector is assumed to consist of a 2D grid of pixels.  This grid is described by the following vectors:</p>
<blockquote>
<div><p><span class="math">\(\vec{T}\)</span> is the vector pointing from the origin to the corner detector pixel that is first in memory.</p>
<p><span class="math">\(\vec{F}\)</span> is the vector that points along the &#8220;fast-scan&#8221; direction.  This is the distance and direction that points to the next pixel that is adjacent in physical space as well as in computer memory.  The length of this vector indicates the pixel size.</p>
<p><span class="math">\(N_F\)</span> is the number of fast-scan pixels in the detector.</p>
<p><span class="math">\(\vec{S}\)</span> is the vector that points along the &#8220;slow-scan&#8221; direction.  This is much like the <span class="math">\(\vec{F}\)</span> vector, but these pixels are only adjacent in physical space but not in computer memory.  In computer memory, adjacent pixels have a memory stride of length <span class="math">\(N_F\)</span>.</p>
<p><span class="math">\(N_S\)</span> is the number of slow-scan pixels in the detector.</p>
</div></blockquote>
<p>Note that there are no angles involved in describing the physical position and orientation of a PAD.  That is because angles are confusing due to the many different conventions used by different books and software.  Since angles are not used in bornagain, we must specify the x-ray beam direction:</p>
<blockquote>
<div><span class="math">\(\hat{B}\)</span> is the unit vector pointing along the incident beam direction.  This of course only makes sense if the illumination is a plane wave, but sometimes we might take this to be the &#8220;nominal&#8221; beam direction.  The convention in bornagain is to take this vector along the (0,0,1) direction, but you need not adhere to this.  Most likely it is only important for display purposes.</div></blockquote>
<p>We must know a bit more about the incident illumination:</p>
<blockquote>
<div><span class="math">\(\hat{U}\)</span> is the polarization vector for the x-ray beam.  This is appropriate for linearly polarized beams, and that is all that is handled by bornagain thus far.</div></blockquote>
<dl class="docutils">
<dt>With the above vectors specified, we may now generate the quantities that will be useful when doing diffraction analysis and simulations.  The vector pointing from the origin (where the target is located) to a detector pixel indexed by <span class="math">\(i\)</span> and <span class="math">\(j\)</span>, is</dt>
<dd><span class="math">\(\vec{V}_{ij}=\vec{T}+i\vec{F}+j\vec{S}\)</span></dd>
<dt>Easy, right?  Now let&#8217;s compute scattering vector for pixel <span class="math">\(i,j\)</span>:</dt>
<dd><span class="math">\(\vec{Q}_{ij}=\frac{2\pi}{\lambda}\left(\hat{V}_{ij} - \hat{B}\right)\)</span></dd>
<dt>where <span class="math">\(\lambda\)</span> is the photon wavelength.  Next we can comput the scattering angle of a pixel:</dt>
<dd><span class="math">\(\theta_{ij} = \arccos(\hat{V}_{ij}\cdot\hat{B})\)</span></dd>
<dt>For linearly polarized light, the polarization correction is</dt>
<dd><span class="math">\(P_{ij} = 1 - |\hat{U}\cdot\hat{V}_{ij}|^2\)</span></dd>
<dt>The solid angle of a pixel is approximately equal to</dt>
<dd><span class="math">\(\Delta \Omega_{ij} \approx \frac{|\vec{F}\times\vec{S}|}{|V|^2}\hat{n}\cdot \hat{V}_{ij}\)</span></dd>
<dt>where the vector normal to the PAD is</dt>
<dd><span class="math">\(\hat{n} = \frac{\vec{F}\times\vec{S}}{|\vec{F}\times\vec{S}|}\)</span></dd>
</dl>
<p>In the bornagain detector and source modules, you will find a reasonably good correspondence between the quantities above and the members of the classes within the <a class="reference internal" href="bornagain.html#module-bornagain.detector" title="bornagain.detector"><code class="xref any py py-mod docutils literal"><span class="pre">detector</span></code></a> and <a class="reference internal" href="bornagain.html#module-bornagain.source" title="bornagain.source"><code class="xref any py py-mod docutils literal"><span class="pre">source</span></code></a> modules.</p>
</div>
<div class="section" id="simulation">
<h2>Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h2>
<p>Some description of how we work with opencl.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="bornagain’s documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">bornagain 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, Richard A Kirian.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>